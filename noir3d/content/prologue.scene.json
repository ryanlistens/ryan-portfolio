{
  "id": "prologue",
  "dialoguePath": "./content/prologue.dialogue.json",
  "startBeat": "street_intro",
  "shots": {
    "street_wide": { "pos": [0, 2.4, 7.2], "lookAt": [0, 1.2, 0], "fov": 55, "ms": 700 },
    "street_close_vivian": { "pos": [1.4, 1.9, 3.0], "lookAt": [1.0, 1.4, 0.2], "fov": 45, "ms": 550 },
    "bar_wide": { "pos": [0.0, 2.0, 6.0], "lookAt": [0.0, 1.2, 0.0], "fov": 55, "ms": 750 }
  },
  "sets": {
    "street": {
      "fog": { "color": "#050406", "density": 0.06 },
      "playerSpawn": [-2.4, 0, 3.4],
      "objects": [
        { "type": "box", "position": [-6, 1.5, -4], "size": [3.5, 3, 2], "color": 2236962 },
        { "type": "box", "position": [5.5, 2.2, -5], "size": [4, 4.2, 2.3], "color": 1842204 },
        {
          "type": "neon",
          "position": [-3.2, 2.0, -2.8],
          "size": [1.8, 0.35, 0.1],
          "emissive": 16722074,
          "emissiveIntensity": 3.1
        },
        {
          "type": "neon",
          "position": [3.1, 2.2, -3.1],
          "size": [2.2, 0.32, 0.1],
          "emissive": 4695807,
          "emissiveIntensity": 2.6
        },
        {
          "type": "character",
          "position": [1.0, 0, 0.1],
          "color": 2369054,
          "hotspotId": "npc.vivian"
        },
        {
          "type": "prop",
          "position": [-0.8, 0.3, 1.2],
          "size": [0.25, 0.08, 0.18],
          "color": 6235926,
          "hotspotId": "clue.matchbook"
        },
        {
          "type": "box",
          "position": [0, 1.0, -7.2],
          "size": [2.8, 2.2, 0.4],
          "color": 1315860,
          "hotspotId": "door.bar"
        }
      ]
    },
    "bar": {
      "fog": { "color": "#060408", "density": 0.045 },
      "playerSpawn": [-1.4, 0, 3.0],
      "objects": [
        { "type": "box", "position": [0, 1.3, -3.8], "size": [8, 2.6, 0.6], "color": 2040351 },
        { "type": "box", "position": [0, 0.55, -2.2], "size": [7.2, 1.1, 1.2], "color": 3153438 },
        {
          "type": "neon",
          "position": [2.4, 2.1, -3.6],
          "size": [1.7, 0.28, 0.1],
          "emissive": 16755200,
          "emissiveIntensity": 3.0
        },
        {
          "type": "character",
          "position": [0.2, 0, -1.8],
          "color": 2236962,
          "hotspotId": "npc.mickey"
        },
        {
          "type": "prop",
          "position": [1.0, 0.5, -1.3],
          "size": [0.22, 0.38, 0.22],
          "color": 6842472,
          "hotspotId": "clue.glass"
        },
        {
          "type": "box",
          "position": [-3.4, 1.0, 4.4],
          "size": [2.4, 2.2, 0.4],
          "color": 1315860,
          "hotspotId": "door.street"
        }
      ]
    }
  },
  "beats": {
    "street_intro": {
      "set": "street",
      "shot": "street_wide",
      "location": "52ND STREET — 1959",
      "objective": "Talk to Vivian.",
      "allowMove": true,
      "onEnter": [{ "type": "showDialogue", "key": "intro" }],
      "hotspots": {
        "npc.vivian": [
          {
            "if": { "flagNotSet": "metVivian" },
            "actions": [
              { "type": "setShot", "shot": "street_close_vivian" },
              { "type": "showDialogue", "key": "vivian_intro" },
              { "type": "setFlag", "flag": "metVivian", "value": true },
              { "type": "addNote", "text": "Vivian hired me to look into her sister Eleanor’s death." },
              { "type": "setObjective", "text": "Find something on the street that doesn’t belong." }
            ]
          },
          {
            "if": { "flagSet": "metVivian" },
            "actions": [{ "type": "showDialogue", "key": "vivian_return" }]
          }
        ],
        "clue.matchbook": {
          "if": { "missingItem": "matchbook" },
          "actions": [
            { "type": "addItem", "item": "matchbook" },
            { "type": "showDialogue", "key": "matchbook" },
            { "type": "addNote", "text": "Found a Blue Moon matchbook on the pavement. Fresh drop." },
            { "type": "setObjective", "text": "Enter The Blue Moon." }
          ]
        },
        "door.bar": [
          {
            "if": { "flagNotSet": "metVivian" },
            "actions": [{ "type": "showDialogue", "key": "door_bar_locked" }]
          },
          {
            "if": { "flagSet": "metVivian" },
            "actions": [{ "type": "gotoBeat", "beat": "bar_entry", "reloadSet": true }]
          }
        ]
      }
    },
    "bar_entry": {
      "set": "bar",
      "shot": "bar_wide",
      "location": "THE BLUE MOON",
      "objective": "Talk to Mickey.",
      "allowMove": true,
      "onEnter": [{ "type": "showDialogue", "key": "bar_enter" }],
      "hotspots": {
        "npc.mickey": [
          {
            "if": { "flagNotSet": "talkedMickey" },
            "actions": [
              { "type": "showDialogue", "key": "mickey_intro" },
              { "type": "setFlag", "flag": "talkedMickey", "value": true },
              { "type": "addNote", "text": "Mickey says Eleanor argued with a big man in a gray suit." },
              { "type": "setObjective", "text": "Inspect the bar for traces of Eleanor." }
            ]
          },
          {
            "if": { "flagSet": "talkedMickey" },
            "actions": [{ "type": "showDialogue", "key": "mickey_return" }]
          }
        ],
        "clue.glass": {
          "if": { "flagNotSet": "foundGlass" },
          "actions": [
            { "type": "setFlag", "flag": "foundGlass", "value": true },
            { "type": "showDialogue", "key": "glass" },
            { "type": "addNote", "text": "Lipstick on the glass: Eleanor was here. Recent." },
            { "type": "setObjective", "text": "Follow the lead back to the street." }
          ]
        },
        "door.street": {
          "actions": [
            { "type": "gotoBeat", "beat": "street_intro", "reloadSet": true },
            { "type": "setShot", "shot": "street_wide" }
          ]
        }
      }
    }
  }
}

